@import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap');
@import './design-tokens.css';
@import './wolf-themes.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* Mystic Steampunk Ritual Colors */
  --background: #0E0F11;        /* Dark Charcoal - main background */
  --foreground: #E6E1D6;        /* Parchment Off-White - main text */
  
  /* Mystic Steampunk Ritual Palette */
  --mystic-steam-charcoal: #0E0F11;
  --mystic-steam-ash: #16181D;
  --mystic-steam-copper: #B87333;
  --mystic-steam-bronze: #8C5A2B;
  --mystic-steam-oxidized: #6F4E37;
  --mystic-steam-parchment: #E6E1D6;
  --mystic-steam-umber: #4A2E1F;
  --mystic-steam-gold: #9C7A3C;
  
  /* Background variants */
  --mystic-steam-bg: #0E0F11;
  --mystic-steam-bg-elevated: #16181D;
  --mystic-steam-bg-hover: #1a1a2e;
  
  /* Dacian Steel & Professional Palette (2026) */
  --dacian-steel-gunmetal: #1a1d23;
  --dacian-steel-steel: #252932;
  --dacian-steel-steel-blue: #2d3748;
  --dacian-steel-brushed: #3a4451;
  --dacian-steel-dark: #14161a;
  --dacian-copper: #8B6F47;
  --dacian-copper-dark: #6B5233;
  --dacian-copper-light: #A6895A;
  --castle-stone: #0d0f12;
  --castle-stone-warm: #14161a;
  --draco-bronze: #5d4e37;
  --draco-bronze-dark: #4a3e2d;
  
  /* Steam mist overlays */
  --steam-mist-light: rgba(255, 255, 255, 0.03);
  --steam-mist-medium: rgba(255, 255, 255, 0.05);
  --steam-mist-heavy: rgba(255, 255, 255, 0.08);
  --steam-mist-cool: rgba(200, 210, 220, 0.04);
  --steam-mist-warm: rgba(240, 235, 225, 0.04);
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-heading: 'Cinzel', 'Cormorant', 'Playfair Display SC', serif;
  --font-body: 'Inter', 'Source Serif 4', sans-serif;
}

body {
  /* Fallback values if CSS variables fail to load */
  background: 
    /* Fine noise texture */
    var(--obsidian-base, #0a0a0a),
    /* Controlled vignette */
    radial-gradient(ellipse at center, transparent 0%, rgba(0,0,0,0.4) 100%),
    var(--obsidian-base, #0a0a0a);
  background-attachment: fixed;
  color: var(--text-primary, #e6e1d6);
  font-family: var(--font-body, 'Inter', sans-serif);
  min-height: 100vh;
  position: relative;
}

/* Fallback styles if CSS variables are not available */
@supports not (--css: variables) {
  body {
    background: #0a0a0a;
    color: #e6e1d6;
  }
}

/* Apply noise texture */
body::before {
  content: '';
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.03'/%3E%3C/svg%3E");
  background-size: 400px 400px;
  background-repeat: repeat;
}

/* Layered Atmospheric Background System */
.atmosphere-layer {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  background: linear-gradient(
    180deg,
    #0d0f12 0%,
    #14161a 30%,
    #0d0f12 70%,
    #0a0c0f 100%
  );
}

.steam-layer {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  height: 100vh;
  pointer-events: none;
  z-index: 1;
  background: 
    radial-gradient(ellipse at 20% 80%, rgba(255, 255, 255, 0.03) 0%, transparent 40%),
    radial-gradient(ellipse at 80% 90%, rgba(200, 210, 220, 0.02) 0%, transparent 50%);
  opacity: 0.6;
  animation: steamDrift 20s ease-in-out infinite;
}

@keyframes steamDrift {
  0%, 100% {
    transform: translateY(0) scale(1);
    opacity: 0.6;
  }
  50% {
    transform: translateY(-5vh) scale(1.05);
    opacity: 0.7;
  }
}

.castle-silhouette {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  height: 40vh;
  pointer-events: none;
  z-index: 1;
  opacity: 0.04;
  background-image: url("data:image/svg+xml,%3Csvg width='800' height='400' viewBox='0 0 800 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' stroke='%23ffffff' stroke-width='1' opacity='0.3'%3E%3Cpath d='M0 400 L100 350 L150 300 L200 320 L250 280 L300 300 L350 250 L400 270 L450 220 L500 240 L550 200 L600 220 L650 180 L700 200 L750 160 L800 180 L800 400 Z'/%3E%3Cpath d='M150 300 L150 250 L180 250 L180 300'/%3E%3Cpath d='M350 250 L350 200 L380 200 L380 250'/%3E%3Cpath d='M550 200 L550 150 L580 150 L580 200'/%3E%3Cpath d='M650 180 L650 130 L680 130 L680 180'/%3E%3C/g%3E%3C/svg%3E");
  background-size: cover;
  background-position: bottom center;
  background-repeat: no-repeat;
  mask-image: linear-gradient(to top, rgba(0,0,0,0.6) 0%, rgba(0,0,0,0) 100%);
  -webkit-mask-image: linear-gradient(to top, rgba(0,0,0,0.6) 0%, rgba(0,0,0,0) 100%);
}

.dacian-pattern {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 1;
  opacity: 0.02;
  background-image: url("data:image/svg+xml,%3Csvg width='200' height='200' viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' stroke='%23B87333' stroke-width='0.5'%3E%3Cpath d='M50 100 Q75 75 100 100 T150 100'/%3E%3Cpath d='M50 150 Q75 125 100 150 T150 150'/%3E%3Ccircle cx='100' cy='50' r='8'/%3E%3Cpath d='M100 42 L95 50 L100 58 L105 50 Z'/%3E%3C/g%3E%3C/svg%3E");
  background-size: 200px 200px;
  background-repeat: repeat;
}

/* Legacy mountain-bg (kept for compatibility) */
.mountain-bg {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  height: 50vh;
  opacity: 0.08;
  pointer-events: none;
  z-index: 0;
  background-image: 
    radial-gradient(circle at 20% 50%, rgba(184, 115, 51, 0.1) 0%, transparent 50%),
    radial-gradient(circle at 80% 80%, rgba(140, 90, 43, 0.08) 0%, transparent 50%),
    url("data:image/svg+xml,%3Csvg width='200' height='200' viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' stroke='%23B87333' stroke-width='0.5' opacity='0.2'%3E%3Cpath d='M0 100 Q50 50 100 100 T200 100'/%3E%3Cpath d='M0 150 Q50 100 100 150 T200 150'/%3E%3Ccircle cx='50' cy='50' r='3' fill='%23B87333' opacity='0.3'/%3E%3Ccircle cx='150' cy='50' r='3' fill='%23B87333' opacity='0.3'/%3E%3C/g%3E%3C/svg%3E");
  background-size: cover, cover, 200px 200px;
  background-position: bottom;
  background-repeat: no-repeat, no-repeat, repeat;
  mask-image: linear-gradient(to top, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0) 100%);
  -webkit-mask-image: linear-gradient(to top, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0) 100%);
}

/* Fluid Typography */
h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-heading);
  letter-spacing: 0.05em;
  line-height: 1.2;
}

h1 {
  font-size: clamp(2rem, 5vw, 4rem);
  line-height: 1.1;
}

h2 {
  font-size: clamp(1.5rem, 4vw, 3rem);
  line-height: 1.2;
}

h3 {
  font-size: clamp(1.25rem, 3vw, 2rem);
  line-height: 1.3;
}

h4 {
  font-size: clamp(1.125rem, 2.5vw, 1.5rem);
  line-height: 1.4;
}

/* Typography refinement */
.text-premium {
  letter-spacing: 0.025em;
  line-height: 1.6;
}

.heading-premium {
  font-family: var(--font-heading);
  letter-spacing: 0.05em;
  line-height: 1.2;
  font-weight: 600;
}

/* Professional Animation System */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes steamRise {
  0% {
    transform: translateY(0) scale(1);
    opacity: 0.6;
  }
  50% {
    opacity: 0.4;
  }
  100% {
    transform: translateY(-100vh) scale(2.5);
    opacity: 0;
  }
}

@keyframes steelShine {
  0% {
    transform: translateX(-100%) skewX(-20deg);
    opacity: 0;
  }
  50% {
    opacity: 0.3;
  }
  100% {
    transform: translateX(200%) skewX(-20deg);
    opacity: 0;
  }
}

@keyframes mechanicalShift {
  0%, 100% {
    transform: translate(0, 0);
  }
  50% {
    transform: translate(1px, 1px);
  }
}

/* Animation utilities */
.animate-fade-in {
  animation: fadeIn 0.8s ease-in-out;
}

.animate-fade-in-up {
  animation: fadeInUp 0.6s ease-out;
}

.animate-scale-in {
  animation: scaleIn 0.4s ease-out;
}

.animate-steel-shine {
  position: relative;
  overflow: hidden;
}

.animate-steel-shine::after {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 50%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255, 255, 255, 0.1),
    transparent
  );
  animation: steelShine 3s ease-in-out infinite;
}

/* Respect reduced motion preference */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

.animate-mechanical-shift {
  animation: mechanicalShift 0.2s ease-in-out;
  transition: transform 0.2s ease-in-out;
}

.animate-mechanical-shift:hover {
  transform: translate(1px, 1px);
}

/* Film Grain Effect (subtle) */
.film-grain {
  position: relative;
}

.film-grain::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.03'/%3E%3C/svg%3E");
  pointer-events: none;
  z-index: 1;
  opacity: 0.03;
}

/* Vignette Effect (discrete) */
.vignette {
  position: relative;
}

.vignette::after {
  content: '';
  position: absolute;
  inset: 0;
  background: radial-gradient(ellipse at center, transparent 0%, rgba(0, 0, 0, 0.15) 100%);
  pointer-events: none;
  z-index: 1;
}

/* Copper Border Utility */
.copper-border {
  border: 1px solid rgba(184, 115, 51, 0.3);
  transition: border-color 0.3s ease-in-out;
}

.copper-border:hover {
  border-color: rgba(184, 115, 51, 0.5);
}

/* Professional Steel Textures */
.steel-surface {
  background: linear-gradient(
    135deg,
    #252932 0%,
    #1a1d23 25%,
    #252932 50%,
    #1a1d23 75%,
    #252932 100%
  );
  background-size: 200% 200%;
  position: relative;
  box-shadow: 
    inset 0 1px 0 rgba(255, 255, 255, 0.05),
    inset 0 -1px 0 rgba(0, 0, 0, 0.3),
    0 2px 8px rgba(0, 0, 0, 0.2);
}

.steel-surface::before {
  content: '';
  position: absolute;
  inset: 0;
  background: repeating-linear-gradient(
    90deg,
    transparent,
    transparent 2px,
    rgba(255, 255, 255, 0.02) 2px,
    rgba(255, 255, 255, 0.02) 4px
  );
  pointer-events: none;
  opacity: 0.3;
}

.steel-border {
  border: 1px solid rgba(58, 68, 81, 0.4);
  box-shadow: 
    inset 0 1px 0 rgba(255, 255, 255, 0.08),
    0 1px 2px rgba(0, 0, 0, 0.3);
  transition: all 0.3s ease;
}

.steel-border:hover {
  border-color: rgba(58, 68, 81, 0.6);
  box-shadow: 
    inset 0 1px 0 rgba(255, 255, 255, 0.12),
    0 2px 4px rgba(0, 0, 0, 0.4);
}

/* Glass-morphic Cards */
.glass-card {
  background: var(--glass-bg);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid var(--glass-border);
  box-shadow: 
    /* Rim light on edges */
    inset 0 1px 0 var(--glass-rim-light),
    inset 0 -1px 0 rgba(0, 0, 0, 0.3),
    /* Outer shadow */
    0 4px 12px rgba(0, 0, 0, 0.4);
  position: relative;
  overflow: hidden;
}

.steel-panel {
  background: linear-gradient(
    135deg,
    #1a1d23 0%,
    #252932 50%,
    #1a1d23 100%
  );
  border: 1px solid rgba(58, 68, 81, 0.3);
  box-shadow: 
    inset 0 1px 0 rgba(255, 255, 255, 0.05),
    inset 0 -1px 0 rgba(0, 0, 0, 0.3),
    0 4px 12px rgba(0, 0, 0, 0.25);
  position: relative;
  overflow: hidden;
}

/* Rim Light Utilities */
.rim-light {
  box-shadow: 
    inset 0 1px 0 rgba(255, 255, 255, 0.15),
    inset 0 -1px 0 rgba(0, 0, 0, 0.3);
}

.rim-light-top {
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.15);
}

.rim-light-bottom {
  box-shadow: inset 0 -1px 0 rgba(0, 0, 0, 0.3);
}

/* Sigil Pattern Background */
.sigil-pattern {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 1;
  opacity: 0.02;
  background-image: url("data:image/svg+xml,%3Csvg width='200' height='200' viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' stroke='%23b8a082' stroke-width='0.5'%3E%3Cpath d='M50 100 Q75 75 100 100 T150 100'/%3E%3Cpath d='M50 150 Q75 125 100 150 T150 150'/%3E%3Ccircle cx='100' cy='50' r='8'/%3E%3Cpath d='M100 42 L95 50 L100 58 L105 50 Z'/%3E%3Cpath d='M30 80 L50 70 L70 80 L50 90 Z'/%3E%3Cpath d='M130 80 L150 70 L170 80 L150 90 Z'/%3E%3C/g%3E%3C/svg%3E");
  background-size: 200px 200px;
  background-repeat: repeat;
}

.steel-panel::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255, 255, 255, 0.03),
    transparent
  );
  transition: left 0.5s ease;
}

.steel-panel:hover::before {
  left: 100%;
}

.steel-button {
  background: linear-gradient(
    135deg,
    #252932 0%,
    #1a1d23 50%,
    #252932 100%
  );
  border: 1px solid rgba(58, 68, 81, 0.5);
  box-shadow: 
    inset 0 1px 0 rgba(255, 255, 255, 0.1),
    inset 0 -1px 0 rgba(0, 0, 0, 0.4),
    0 2px 4px rgba(0, 0, 0, 0.3);
  position: relative;
  transition: all 0.2s ease;
  overflow: hidden;
}

.steel-button::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255, 255, 255, 0.1),
    transparent
  );
  transition: left 0.4s ease;
}

.steel-button:hover {
  transform: translateY(-1px);
  box-shadow: 
    inset 0 1px 0 rgba(255, 255, 255, 0.15),
    inset 0 -1px 0 rgba(0, 0, 0, 0.4),
    0 4px 8px rgba(0, 0, 0, 0.4);
}

.steel-button:hover::before {
  left: 100%;
}

.steel-button:active {
  transform: translateY(0);
  box-shadow: 
    inset 0 1px 0 rgba(255, 255, 255, 0.05),
    inset 0 -1px 0 rgba(0, 0, 0, 0.5),
    0 1px 2px rgba(0, 0, 0, 0.3);
}

/* Scrollbar */
::-webkit-scrollbar {
  height: 0.35rem;
  width: 0.35rem;
}
body::-webkit-scrollbar-track-piece {
  background-color: #0E0F11;
}
::-webkit-scrollbar-track-piece {
  background-color: transparent;
}
::-webkit-scrollbar-thumb {
  border-radius: 9999px;
  background-color: rgba(184, 115, 51, 0.4);
}
::-webkit-scrollbar-thumb:hover {
  background-color: rgba(184, 115, 51, 0.6);
}
::-webkit-scrollbar-corner {
  background-color: transparent;
}

/* Accessibility */
*:focus-visible {
  outline: 2px solid rgba(184, 115, 51, 0.5);
  outline-offset: 2px;
}

/* Skip to content link */
.skip-to-content {
  position: absolute;
  left: -9999px;
  z-index: 999;
}

.skip-to-content:focus {
  left: 50%;
  transform: translateX(-50%);
  padding: 1rem 2rem;
  background: var(--mystic-steam-copper);
  color: var(--mystic-steam-charcoal);
  text-decoration: none;
}
